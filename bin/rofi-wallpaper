#!/usr/bin/env bash

WALLPAPERS=~/.cache/moomin/wallpapers
THUMBNAILS=~/.cache/moomin/thumbnails

PICK=$(
    for WALL in $WALLPAPERS/*; do
        printf "$WALL\0icon\x1f$THUMBNAILS/$(basename $WALL)\n"
    done | rofi -dmenu -config ~/.config/rofi/walls.rasi
)

if [ ! -z $PICK ]; then
    hellwal --skip-term-colors -l -i $PICK &
    awww img $PICK \
        --transition-type random \
        --transition-duration 2 \
        --transition-fps 60
fi
